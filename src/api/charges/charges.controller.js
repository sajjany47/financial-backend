import { StatusCodes } from "http-status-codes";
import { chargesSchema } from "./charges.schema.js";
import charges from "./charges.model.js";
import mongoose from "mongoose";
import employee from "../employess/employee.model.js";

export const createCharges = async (req, res) => {
  try {
    const validateData = await chargesSchema.validate(req.body);
    if (validateData) {
      const checkPreviousActive = await charges.findOne({ isActive: true });
      if (checkPreviousActive) {
        return res
          .status(StatusCodes.CONFLICT)
          .json({ message: "Previous active charge required to inactive" });
      } else {
        const data = new charges({
          processingFees: validateData.processingFees,
          processingFeesGST: validateData.processingFeesGST,
          loginFees: validateData.loginFees,
          loginFeesGST: validateData.loginFeesGST,
          otherCharges: validateData.otherCharges,
          otherChargesGST: validateData.otherChargesGST,
          foreclosureFees: validateData.foreclosureFees,
          foreclosureFeesGST: validateData.foreclosureFeesGST,
          isActive: true,
          createdBy: req.user._id,
        });
        await data.save();

        return res
          .status(StatusCodes.OK)
          .json({ message: "Charges created successfully" });
      }
    }
  } catch (error) {
    res.status(StatusCodes.BAD_REQUEST).json({ message: error.message });
  }
};

export const statusChanges = async (req, res) => {
  try {
    let reqData = req.body.status;
    if (reqData) {
      const checkPreviousActive = await charges.findOne({ isActive: true });
      if (checkPreviousActive) {
        return res
          .status(StatusCodes.CONFLICT)
          .json({ message: "Make sure previous active charges are inactive" });
      } else {
        reqData = true;
      }
    } else {
      reqData = false;
    }

    await charges.findOneAndUpdate(
      {
        _id: new mongoose.Types.ObjectId(req.body._id),
      },
      { $set: { isActive: reqData, updatedBy: req.user._id } }
    );
    return res
      .status(StatusCodes.OK)
      .json({ message: "Status updated successfully" });
  } catch (error) {
    res.status(StatusCodes.BAD_REQUEST).json({ message: error.message });
  }
};

export const chargesList = async (req, res) => {
  try {
    // const users1 = [
    //   {
    //     _id: { $oid: "66be1e6f5414da7af04d7fbc" },
    //     employeeId: "XYZA1234",
    //     name: "Rohit",
    //     username: "rohit123",
    //     position: "admin",
    //     mobile: "8981374640",
    //     email: "rohit.admin@gmail.com",
    //     dob: { $date: "1990-05-15T18:30:00.000Z" },
    //     address: "Mumbai",
    //     state: 4853,
    //     country: 101,
    //     city: 142001,
    //     pincode: "400001",
    //     password: "hashedpassword123",
    //     isPasswordReset: true,
    //     isProfileVerified: "pending",
    //     profileRatio: "75",
    //     isActive: true,
    //     fresherOrExperience: "experience",
    //     updatedBy: "66be1e6f5414da7af04d7fbb",
    //     userImage:
    //       "http://res.cloudinary.com/dzezstvvt/image/upload/v1724823835/user/rohit123.jpg",
    //     aadharNumber: "123456789012",
    //     panNumber: "ABCDE1234F",
    //     passportNumber: "P1234567",
    //     voterNumber: "VOT567890",
    //     branch: { $oid: "66bee71eb1b313d8c35bdfa8" },
    //     bankBranchName: "Mumbai Central",
    //     sessionId: "xyzSessionId123",
    //   },
    //   {
    //     _id: { $oid: "66be1e6f5414da7af04d7fbd" },
    //     employeeId: "ABCZ5678",
    //     name: "Nisha",
    //     username: "nisha_bm",
    //     position: "branch-manager",
    //     mobile: "9876543210",
    //     email: "nisha.bm@gmail.com",
    //     dob: { $date: "1992-08-21T18:30:00.000Z" },
    //     address: "Delhi",
    //     state: 4854,
    //     country: 101,
    //     city: 142002,
    //     pincode: "110001",
    //     password: "hashedpassword456",
    //     isPasswordReset: false,
    //     isProfileVerified: "verified",
    //     profileRatio: "90",
    //     isActive: true,
    //     fresherOrExperience: "experience",
    //     updatedBy: "66be1e6f5414da7af04d7fbc",
    //     userImage:
    //       "http://res.cloudinary.com/dzezstvvt/image/upload/v1724823835/user/nisha_bm.jpg",
    //     aadharNumber: "987654321098",
    //     panNumber: "FGHIJ6789K",
    //     passportNumber: "P8765432",
    //     voterNumber: "VOT123456",
    //     branch: { $oid: "66bee71eb1b313d8c35bdfa9" },
    //     bankBranchName: "Delhi Connaught",
    //     sessionId: "abcSessionId567",
    //   },
    //   {
    //     _id: { $oid: "66be1e6f5414da7af04d7fbe" },
    //     employeeId: "LMNOP3456",
    //     name: "Amit",
    //     username: "amit_state",
    //     position: "state-manager",
    //     mobile: "8899776655",
    //     email: "amit.state@gmail.com",
    //     dob: { $date: "1985-12-05T18:30:00.000Z" },
    //     address: "Bangalore",
    //     state: 4855,
    //     country: 101,
    //     city: 142003,
    //     pincode: "560001",
    //     password: "hashedpassword789",
    //     isPasswordReset: true,
    //     isProfileVerified: "pending",
    //     profileRatio: "60",
    //     isActive: true,
    //     fresherOrExperience: "experience",
    //     updatedBy: "66be1e6f5414da7af04d7fbc",
    //     userImage:
    //       "http://res.cloudinary.com/dzezstvvt/image/upload/v1724823835/user/amit_state.jpg",
    //     aadharNumber: "567890123456",
    //     panNumber: "JKLMN3456P",
    //     passportNumber: "P3456789",
    //     voterNumber: "VOT678901",
    //     branch: { $oid: "66bee71eb1b313d8c35bdfaa" },
    //     bankBranchName: "Bangalore MG Road",
    //     sessionId: "sessionId5678",
    //   },
    //   {
    //     _id: { $oid: "66be1e6f5414da7af04d7fbf" },
    //     employeeId: "QWERTY9876",
    //     name: "Simran",
    //     username: "simran_loan",
    //     position: "loan-manager",
    //     mobile: "9191919191",
    //     email: "simran.loan@gmail.com",
    //     dob: { $date: "1991-01-10T18:30:00.000Z" },
    //     address: "Hyderabad",
    //     state: 4856,
    //     country: 101,
    //     city: 142004,
    //     pincode: "500001",
    //     password: "hashedpassword321",
    //     isPasswordReset: false,
    //     isProfileVerified: "verified",
    //     profileRatio: "85",
    //     isActive: true,
    //     fresherOrExperience: "experience",
    //     updatedBy: "66be1e6f5414da7af04d7fbc",
    //     userImage:
    //       "http://res.cloudinary.com/dzezstvvt/image/upload/v1724823835/user/simran_loan.jpg",
    //     aadharNumber: "123450987654",
    //     panNumber: "OPQRS7890T",
    //     passportNumber: "P9876543",
    //     voterNumber: "VOT345678",
    //     branch: { $oid: "66bee71eb1b313d8c35bdfab" },
    //     bankBranchName: "Hyderabad Secunderabad",
    //     sessionId: "sessionId9999",
    //   },
    //   {
    //     _id: { $oid: "66be1e6f5414da7af04d7fc0" },
    //     employeeId: "UVWXYZ6543",
    //     name: "Raj",
    //     username: "raj_product",
    //     position: "product-manager",
    //     mobile: "9998887777",
    //     email: "raj.product@gmail.com",
    //     dob: { $date: "1995-06-18T18:30:00.000Z" },
    //     address: "Pune",
    //     state: 4857,
    //     country: 101,
    //     city: 142005,
    //     pincode: "411001",
    //     password: "hashedpassword987",
    //     isPasswordReset: true,
    //     isProfileVerified: "verified",
    //     profileRatio: "92",
    //     isActive: true,
    //     fresherOrExperience: "fresher",
    //     updatedBy: "66be1e6f5414da7af04d7fbd",
    //     userImage:
    //       "http://res.cloudinary.com/dzezstvvt/image/upload/v1724823835/user/raj_product.jpg",
    //     aadharNumber: "987654321234",
    //     panNumber: "TUVWX1234Y",
    //     passportNumber: "P6543210",
    //     voterNumber: "VOT789012",
    //     branch: { $oid: "66bee71eb1b313d8c35bdfac" },
    //     bankBranchName: "Pune Koregaon",
    //     sessionId: "sessionId5670",
    //   },
    //   // Additional 15 users with similar structure
    // ];

    // const users2 = [
    //   {
    //     _id: { $oid: "66be1e6f5414da7af04d7fc1" },
    //     employeeId: "ZXY98765",
    //     name: "Pooja",
    //     username: "pooja_collection_head",
    //     position: "collection-department-head",
    //     mobile: "8886665555",
    //     email: "pooja.collection@gmail.com",
    //     dob: { $date: "1989-03-09T18:30:00.000Z" },
    //     address: "Chennai",
    //     state: 4858,
    //     country: 101,
    //     city: 142006,
    //     pincode: "600001",
    //     password: "hashedpassword111",
    //     isPasswordReset: true,
    //     isProfileVerified: "verified",
    //     profileRatio: "70",
    //     isActive: true,
    //     fresherOrExperience: "experience",
    //     updatedBy: "66be1e6f5414da7af04d7fbd",
    //     userImage:
    //       "http://res.cloudinary.com/dzezstvvt/image/upload/v1724823835/user/pooja_collection_head.jpg",
    //     aadharNumber: "234567890123",
    //     panNumber: "XCVBN1234P",
    //     passportNumber: "P5432109",
    //     voterNumber: "VOT890123",
    //     branch: { $oid: "66bee71eb1b313d8c35bdfad" },
    //     bankBranchName: "Chennai Marina",
    //     sessionId: "sessionId8765",
    //   },
    //   {
    //     _id: { $oid: "66be1e6f5414da7af04d7fc2" },
    //     employeeId: "QWER1234",
    //     name: "Sunil",
    //     username: "sunil_collection",
    //     position: "collection-department",
    //     mobile: "7775554444",
    //     email: "sunil.collection@gmail.com",
    //     dob: { $date: "1993-09-12T18:30:00.000Z" },
    //     address: "Lucknow",
    //     state: 4859,
    //     country: 101,
    //     city: 142007,
    //     pincode: "226001",
    //     password: "hashedpassword222",
    //     isPasswordReset: true,
    //     isProfileVerified: "pending",
    //     profileRatio: "60",
    //     isActive: true,
    //     fresherOrExperience: "experience",
    //     updatedBy: "66be1e6f5414da7af04d7fbc",
    //     userImage:
    //       "http://res.cloudinary.com/dzezstvvt/image/upload/v1724823835/user/sunil_collection.jpg",
    //     aadharNumber: "890123456789",
    //     panNumber: "QWERT5678Y",
    //     passportNumber: "P1239876",
    //     voterNumber: "VOT678910",
    //     branch: { $oid: "66bee71eb1b313d8c35bdfae" },
    //     bankBranchName: "Lucknow Hazratganj",
    //     sessionId: "sessionId9876",
    //   },
    //   {
    //     _id: { $oid: "66be1e6f5414da7af04d7fc3" },
    //     employeeId: "TYUI0987",
    //     name: "Ajay",
    //     username: "ajay_loan_dept",
    //     position: "loan-department",
    //     mobile: "6664443333",
    //     email: "ajay.loan@gmail.com",
    //     dob: { $date: "1994-11-25T18:30:00.000Z" },
    //     address: "Jaipur",
    //     state: 4860,
    //     country: 101,
    //     city: 142008,
    //     pincode: "302001",
    //     password: "hashedpassword333",
    //     isPasswordReset: false,
    //     isProfileVerified: "verified",
    //     profileRatio: "80",
    //     isActive: true,
    //     fresherOrExperience: "fresher",
    //     updatedBy: "66be1e6f5414da7af04d7fbd",
    //     userImage:
    //       "http://res.cloudinary.com/dzezstvvt/image/upload/v1724823835/user/ajay_loan_dept.jpg",
    //     aadharNumber: "765432109876",
    //     panNumber: "ZXCVB8765L",
    //     passportNumber: "P7654321",
    //     voterNumber: "VOT567890",
    //     branch: { $oid: "66bee71eb1b313d8c35bdfaf" },
    //     bankBranchName: "Jaipur Mansarovar",
    //     sessionId: "sessionId8767",
    //   },
    //   {
    //     _id: { $oid: "66be1e6f5414da7af04d7fc4" },
    //     employeeId: "UIOP1234",
    //     name: "Neha",
    //     username: "neha_verification",
    //     position: "verification-department",
    //     mobile: "5553332222",
    //     email: "neha.verification@gmail.com",
    //     dob: { $date: "1996-07-11T18:30:00.000Z" },
    //     address: "Ahmedabad",
    //     state: 4861,
    //     country: 101,
    //     city: 142009,
    //     pincode: "380001",
    //     password: "hashedpassword444",
    //     isPasswordReset: false,
    //     isProfileVerified: "pending",
    //     profileRatio: "85",
    //     isActive: true,
    //     fresherOrExperience: "fresher",
    //     updatedBy: "66be1e6f5414da7af04d7fbd",
    //     userImage:
    //       "http://res.cloudinary.com/dzezstvvt/image/upload/v1724823835/user/neha_verification.jpg",
    //     aadharNumber: "123490876543",
    //     panNumber: "ASDFG6789M",
    //     passportNumber: "P4321098",
    //     voterNumber: "VOT901234",
    //     branch: { $oid: "66bee71eb1b313d8c35bdfb0" },
    //     bankBranchName: "Ahmedabad Satellite",
    //     sessionId: "sessionId7654",
    //   },
    //   {
    //     _id: { $oid: "66be1e6f5414da7af04d7fc5" },
    //     employeeId: "JKLM8765",
    //     name: "Vikas",
    //     username: "vikas_finance",
    //     position: "financial-manager",
    //     mobile: "4442221111",
    //     email: "vikas.finance@gmail.com",
    //     dob: { $date: "1987-04-04T18:30:00.000Z" },
    //     address: "Indore",
    //     state: 4862,
    //     country: 101,
    //     city: 142010,
    //     pincode: "452001",
    //     password: "hashedpassword555",
    //     isPasswordReset: true,
    //     isProfileVerified: "verified",
    //     profileRatio: "90",
    //     isActive: true,
    //     fresherOrExperience: "experience",
    //     updatedBy: "66be1e6f5414da7af04d7fbd",
    //     userImage:
    //       "http://res.cloudinary.com/dzezstvvt/image/upload/v1724823835/user/vikas_finance.jpg",
    //     aadharNumber: "345678901234",
    //     panNumber: "WERTY2345U",
    //     passportNumber: "P9871234",
    //     voterNumber: "VOT234567",
    //     branch: { $oid: "66bee71eb1b313d8c35bdfb1" },
    //     bankBranchName: "Indore Rajwada",
    //     sessionId: "sessionId8764",
    //   },
    //   {
    //     _id: { $oid: "66be1e6f5414da7af04d7fc6" },
    //     employeeId: "WXYZ4321",
    //     name: "Meena",
    //     username: "meena_customer",
    //     position: "customer",
    //     mobile: "3331110000",
    //     email: "meena.customer@gmail.com",
    //     dob: { $date: "1999-02-21T18:30:00.000Z" },
    //     address: "Patna",
    //     state: 4863,
    //     country: 101,
    //     city: 142011,
    //     pincode: "800001",
    //     password: "hashedpassword666",
    //     isPasswordReset: true,
    //     isProfileVerified: "pending",
    //     profileRatio: "65",
    //     isActive: true,
    //     fresherOrExperience: "fresher",
    //     updatedBy: "66be1e6f5414da7af04d7fbc",
    //     userImage:
    //       "http://res.cloudinary.com/dzezstvvt/image/upload/v1724823835/user/meena_customer.jpg",
    //     aadharNumber: "567890123456",
    //     panNumber: "QAZWS1234P",
    //     passportNumber: "P4321234",
    //     voterNumber: "VOT765432",
    //     branch: { $oid: "66bee71eb1b313d8c35bdfb2" },
    //     bankBranchName: "Patna Fraser Road",
    //     sessionId: "sessionId7650",
    //   },
    //   // Additional 9 users similar to this format
    // ];

    // const users3 = [
    //   {
    //     _id: { $oid: "66be1e6f5414da7af04d7fc7" },
    //     employeeId: "MNOP5678",
    //     name: "Ravi",
    //     username: "ravi_branch_mgr",
    //     position: "branch-manager",
    //     mobile: "9876543210",
    //     email: "ravi.branch@gmail.com",
    //     dob: { $date: "1985-06-15T18:30:00.000Z" },
    //     address: "Bangalore",
    //     state: 4864,
    //     country: 101,
    //     city: 142012,
    //     pincode: "560001",
    //     password: "hashedpassword777",
    //     isPasswordReset: true,
    //     isProfileVerified: "verified",
    //     profileRatio: "95",
    //     isActive: true,
    //     fresherOrExperience: "experience",
    //     updatedBy: "66be1e6f5414da7af04d7fbd",
    //     userImage:
    //       "http://res.cloudinary.com/dzezstvvt/image/upload/v1724823835/user/ravi_branch_mgr.jpg",
    //     aadharNumber: "789012345678",
    //     panNumber: "BNM9876CDE",
    //     passportNumber: "P9876543",
    //     voterNumber: "VOT987654",
    //     branch: { $oid: "66bee71eb1b313d8c35bdfb3" },
    //     bankBranchName: "Bangalore MG Road",
    //     sessionId: "sessionId5432",
    //   },
    //   {
    //     _id: { $oid: "66be1e6f5414da7af04d7fc8" },
    //     employeeId: "ZXC98765",
    //     name: "Kavita",
    //     username: "kavita_state_mgr",
    //     position: "state-manager",
    //     mobile: "8765432109",
    //     email: "kavita.state@gmail.com",
    //     dob: { $date: "1980-08-10T18:30:00.000Z" },
    //     address: "Mumbai",
    //     state: 4865,
    //     country: 101,
    //     city: 142013,
    //     pincode: "400001",
    //     password: "hashedpassword888",
    //     isPasswordReset: true,
    //     isProfileVerified: "pending",
    //     profileRatio: "90",
    //     isActive: true,
    //     fresherOrExperience: "experience",
    //     updatedBy: "66be1e6f5414da7af04d7fbe",
    //     userImage:
    //       "http://res.cloudinary.com/dzezstvvt/image/upload/v1724823835/user/kavita_state_mgr.jpg",
    //     aadharNumber: "901234567890",
    //     panNumber: "CDE4321VBG",
    //     passportNumber: "P7654321",
    //     voterNumber: "VOT345678",
    //     branch: { $oid: "66bee71eb1b313d8c35bdfb4" },
    //     bankBranchName: "Mumbai Churchgate",
    //     sessionId: "sessionId7652",
    //   },
    //   {
    //     _id: { $oid: "66be1e6f5414da7af04d7fc9" },
    //     employeeId: "ERT12345",
    //     name: "Nisha",
    //     username: "nisha_product_mgr",
    //     position: "product-manager",
    //     mobile: "7654321098",
    //     email: "nisha.product@gmail.com",
    //     dob: { $date: "1991-12-05T18:30:00.000Z" },
    //     address: "Delhi",
    //     state: 4866,
    //     country: 101,
    //     city: 142014,
    //     pincode: "110001",
    //     password: "hashedpassword999",
    //     isPasswordReset: true,
    //     isProfileVerified: "verified",
    //     profileRatio: "80",
    //     isActive: true,
    //     fresherOrExperience: "fresher",
    //     updatedBy: "66be1e6f5414da7af04d7fbe",
    //     userImage:
    //       "http://res.cloudinary.com/dzezstvvt/image/upload/v1724823835/user/nisha_product_mgr.jpg",
    //     aadharNumber: "123450987654",
    //     panNumber: "FGH5678JKL",
    //     passportNumber: "P6543210",
    //     voterNumber: "VOT456789",
    //     branch: { $oid: "66bee71eb1b313d8c35bdfb5" },
    //     bankBranchName: "Delhi Connaught Place",
    //     sessionId: "sessionId6543",
    //   },
    //   {
    //     _id: { $oid: "66be1e6f5414da7af04d7fca" },
    //     employeeId: "POI65432",
    //     name: "Suresh",
    //     username: "suresh_loan_mgr",
    //     position: "loan-manager",
    //     mobile: "6543210987",
    //     email: "suresh.loan@gmail.com",
    //     dob: { $date: "1988-11-20T18:30:00.000Z" },
    //     address: "Hyderabad",
    //     state: 4867,
    //     country: 101,
    //     city: 142015,
    //     pincode: "500001",
    //     password: "hashedpassword101",
    //     isPasswordReset: true,
    //     isProfileVerified: "pending",
    //     profileRatio: "75",
    //     isActive: true,
    //     fresherOrExperience: "experience",
    //     updatedBy: "66be1e6f5414da7af04d7fbd",
    //     userImage:
    //       "http://res.cloudinary.com/dzezstvvt/image/upload/v1724823835/user/suresh_loan_mgr.jpg",
    //     aadharNumber: "876543219876",
    //     panNumber: "JKL9876HJK",
    //     passportNumber: "P9876512",
    //     voterNumber: "VOT765432",
    //     branch: { $oid: "66bee71eb1b313d8c35bdfb6" },
    //     bankBranchName: "Hyderabad Banjara Hills",
    //     sessionId: "sessionId5434",
    //   },
    //   {
    //     _id: { $oid: "66be1e6f5414da7af04d7fcb" },
    //     employeeId: "LKJ87654",
    //     name: "Arjun",
    //     username: "arjun_verification_dept",
    //     position: "verification-department",
    //     mobile: "5432109876",
    //     email: "arjun.verification@gmail.com",
    //     dob: { $date: "1995-03-30T18:30:00.000Z" },
    //     address: "Surat",
    //     state: 4868,
    //     country: 101,
    //     city: 142016,
    //     pincode: "395001",
    //     password: "hashedpassword102",
    //     isPasswordReset: false,
    //     isProfileVerified: "verified",
    //     profileRatio: "70",
    //     isActive: true,
    //     fresherOrExperience: "fresher",
    //     updatedBy: "66be1e6f5414da7af04d7fbd",
    //     userImage:
    //       "http://res.cloudinary.com/dzezstvvt/image/upload/v1724823835/user/arjun_verification_dept.jpg",
    //     aadharNumber: "234567890876",
    //     panNumber: "HJK2345LKJ",
    //     passportNumber: "P0987654",
    //     voterNumber: "VOT098765",
    //     branch: { $oid: "66bee71eb1b313d8c35bdfb7" },
    //     bankBranchName: "Surat Ring Road",
    //     sessionId: "sessionId4321",
    //   },
    //   {
    //     _id: { $oid: "66be1e6f5414da7af04d7fcc" },
    //     employeeId: "QAZ56789",
    //     name: "Rohit",
    //     username: "rohit_finance_mgr",
    //     position: "financial-manager",
    //     mobile: "4321098765",
    //     email: "rohit.finance@gmail.com",
    //     dob: { $date: "1983-07-18T18:30:00.000Z" },
    //     address: "Pune",
    //     state: 4869,
    //     country: 101,
    //     city: 142017,
    //     pincode: "411001",
    //     password: "hashedpassword103",
    //     isPasswordReset: true,
    //     isProfileVerified: "verified",
    //     profileRatio: "85",
    //     isActive: true,
    //     fresherOrExperience: "experience",
    //     updatedBy: "66be1e6f5414da7af04d7fbd",
    //     userImage:
    //       "http://res.cloudinary.com/dzezstvvt/image/upload/v1724823835/user/rohit_finance_mgr.jpg",
    //     aadharNumber: "890123450987",
    //     panNumber: "QAZ1234EDC",
    //     passportNumber: "P8765432",
    //     voterNumber: "VOT987654",
    //     branch: { $oid: "66bee71eb1b313d8c35bdfb8" },
    //     bankBranchName: "Pune FC Road",
    //     sessionId: "sessionId3210",
    //   },
    //   {
    //     _id: { $oid: "66be1e6f5414da7af04d7fcd" },
    //     employeeId: "WSX43210",
    //     name: "Tina",
    //     username: "tina_customer",
    //     position: "customer",
    //     mobile: "3210987654",
    //     email: "tina.customer@gmail.com",
    //     dob: { $date: "1999-02-12T18:30:00.000Z" },
    //     address: "Chennai",
    //     state: 4870,
    //     country: 101,
    //     city: 142018,
    //     pincode: "600001",
    //     password: "hashedpassword104",
    //     isPasswordReset: false,
    //     isProfileVerified: "pending",
    //     profileRatio: "60",
    //     isActive: true,
    //     fresherOrExperience: "fresher",
    //     updatedBy: "66be1e6f5414da7af04d7fbe",
    //     userImage:
    //       "http://res.cloudinary.com/dzezstvvt/image/upload/v1724823835/user/tina_customer.jpg",
    //     aadharNumber: "901234567987",
    //     panNumber: "EDC5432VFR",
    //     passportNumber: "P1234567",
    //     voterNumber: "VOT876543",
    //     branch: { $oid: "66bee71eb1b313d8c35bdfb9" },
    //     bankBranchName: "Chennai Mount Road",
    //     sessionId: "sessionId2109",
    //   },
    //   {
    //     _id: { $oid: "66be1e6f5414da7af04d7fce" },
    //     employeeId: "EDC76543",
    //     name: "Sonia",
    //     username: "sonia_loan_dept",
    //     position: "loan-department",
    //     mobile: "2109876543",
    //     email: "sonia.loan@gmail.com",
    //     dob: { $date: "1986-09-25T18:30:00.000Z" },
    //     address: "Jaipur",
    //     state: 4871,
    //     country: 101,
    //     city: 142019,
    //     pincode: "302001",
    //     password: "hashedpassword105",
    //     isPasswordReset: true,
    //     isProfileVerified: "pending",
    //     profileRatio: "65",
    //     isActive: true,
    //     fresherOrExperience: "experience",
    //     updatedBy: "66be1e6f5414da7af04d7fbe",
    //     userImage:
    //       "http://res.cloudinary.com/dzezstvvt/image/upload/v1724823835/user/sonia_loan_dept.jpg",
    //     aadharNumber: "345678901234",
    //     panNumber: "VFR6543CDE",
    //     passportNumber: "P2345678",
    //     voterNumber: "VOT765432",
    //     branch: { $oid: "66bee71eb1b313d8c35bdfa0" },
    //     bankBranchName: "Jaipur Civil Lines",
    //     sessionId: "sessionId1098",
    //   },
    //   {
    //     _id: { $oid: "66be1e6f5414da7af04d7fcf" },
    //     employeeId: "RFV09876",
    //     name: "Amit",
    //     username: "amit_collection_mgr",
    //     position: "collection-department-head",
    //     mobile: "1098765432",
    //     email: "amit.collection@gmail.com",
    //     dob: { $date: "1987-04-15T18:30:00.000Z" },
    //     address: "Lucknow",
    //     state: 4872,
    //     country: 101,
    //     city: 142020,
    //     pincode: "226001",
    //     password: "hashedpassword106",
    //     isPasswordReset: true,
    //     isProfileVerified: "verified",
    //     profileRatio: "90",
    //     isActive: true,
    //     fresherOrExperience: "experience",
    //     updatedBy: "66be1e6f5414da7af04d7fbe",
    //     userImage:
    //       "http://res.cloudinary.com/dzezstvvt/image/upload/v1724823835/user/amit_collection_mgr.jpg",
    //     aadharNumber: "654321098765",
    //     panNumber: "CDE9876FGH",
    //     passportNumber: "P8765432",
    //     voterNumber: "VOT654321",
    //     branch: { $oid: "66bee71eb1b313d8c35bdfa1" },
    //     bankBranchName: "Lucknow Hazratganj",
    //     sessionId: "sessionId5431",
    //   },
    // ];

    // const a = [...users1, ...users2, ...users3];
    // const b = a.map((item) => ({
    //   ...item,
    //   _id: new mongoose.Types.ObjectId(item._id["$oid"]),
    //   date: new Date(item.date["$date"]),
    //   branch: new mongoose.Types.ObjectId(item.branch["$oid"]),
    // }));
    // console.log(b);

    // await employee.insertMany(a);
    const list = await charges.find({}).sort({ isActive: -1 });

    res
      .status(StatusCodes.OK)
      .json({ message: "Data fetched successfully", data: list });
  } catch (error) {
    res.status(StatusCodes.BAD_REQUEST).json({ message: error.message });
  }
};

export const getCharges = async (req, res) => {
  try {
    const data = await charges.findOne({ isActive: true });

    res
      .status(StatusCodes.OK)
      .json({ message: "Data fetched successfully", data: data });
  } catch (error) {
    res.status(StatusCodes.BAD_REQUEST).json({ message: error.message });
  }
};
